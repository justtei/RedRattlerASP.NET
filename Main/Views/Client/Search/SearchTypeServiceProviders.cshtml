@using MSLivingChoices.Entities.Client.Search.Criteria
@using MSLivingChoices.Mvc.Uipc.Client.Helpers
@using MSLivingChoices.Mvc.Uipc.Client.ViewModels
@using MSLivingChoices.Localization

@model SearchTypeStubSearchVm
@{
    Layout = "~/Views/Client/Shared/_PageLayout.cshtml";
}
@section scripts
{
    <script type="text/javascript">
        mslc.resolve(['client/analytics/google'], function (ga) {
            ga.trackPageView();
        }, 'ga-tracking');
    </script>
}
<style>
    .autocomplete {
        list-style: none;
    }

        .autocomplete li {
            padding: 2px 2px 2px 10px;
        }

            .autocomplete li:hover {
                background-color: #e9e9e9;
            }

    .txt-right {
        float: right;
        margin-right: 5px;
    }

    .select2-container {
        width: 100% !important;
    }

    .message {
        padding: 2px 2px 2px 10px;
        color: #dc3545 !important;
    }

    .banner {
        position: relative;
    }

    .banner .img-fluid {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0px;
    }


</style>

@*<section class="banner" style="background-image: url('@Url.Content("~/Content/images9/inner-banner-bg.jpg")'); background-size: cover;">*@
<section class="banner">
    <img class="img-fluid" src="@Url.Content("~/Content/images9/inner-banner-bg.jpg")" alt="">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-7" id="search-bar">
                <h1 class="text-white text-center mb-3">Search Products & Services</h1>
                <div class="property-search-field p-4">
                    <form class="row" data-bind="event: { submit: search }" data-search="form">
                        <div class="col-lg-12 mt-3" style="position: relative; padding:0 2.5%;" data-select="multi" data-bind="event:{outerClick:hideHelpArea }">
                            <label for="CityState">City / State</label>
                            <input type="hidden" class="form-control autocomplete-input" data-bind="value: autocompleteLocation" />
                            <input type="text" id="CityState" class="form-control opacity-input relative" placeholder="Enter City/State" autocomplete="off" data-bind="textInput: lookupLocation, event: {focus: showHelpArea , click: showHelpArea , keydown: onKeyDown, dblclick: onDoubleClick }" />
                            <div class="help-area-index"
                                 data-select="target"
                                 style="display: none; width: 95%;"
                                 data-bind="visible: isHelpAreaVisible">
                                <!-- ko with: messages -->
                                <div class="message"
                                     data-bind="visible: isEmptyMessageVisible()">
                                    You should enter an address
                                </div>
                                <div class="message"
                                     data-bind="visible: isErrorMessageVisible(), text: errorMessage">
                                </div>
                                <div class="message"
                                     data-bind="visible: isErrorMessageVisible() && $parent.autocomplete.length()">
                                    Suggestions:
                                </div>
                                <!-- /ko -->
                                <ul class="autocomplete mb-1 p-1"
                                    data-bind="visible: isTemplatesVisible(), foreach: currentTemplates()">
                                    <li data-bind="click: $root.onTemplateClick">
                                        <span data-bind="text: template"></span>
                                        <span class="txt-right" data-bind="text: lookupLocation"></span>
                                    </li>
                                </ul>
                                <!-- ko with: autocomplete -->
                                <ul class="autocomplete mb-1 p-1"
                                    data-bind="visible: $root.isAutocompleteVisible(), foreach: list">
                                    <li data-bind="
                                                click: $root.onAutocompleteClick
                                                , event: { mouseover: function() { $parent.select($index()) } }
                                                , css: { active: $index() === $parent.index() }">
                                        <span data-bind="text: start"></span><span class="txt-bold" data-bind="text: end"></span>
                                        <span class="txt-right" data-bind="text: template"></span>
                                    </li>
                                </ul>
                                <!-- /ko -->
                            </div>
                        </div>
                        <div class="col-lg-6 mt-3 d-none">
                            <label for="exampleInputName2">Housing Type</label>
                            <div data-bind="with: searchTypes">
                                <select class="form-control basic-select" id="exampleFormControlSelect2" data-bind="options:items,optionsText:'text',optionsValue:'value',optionsCaption:'Choose...'">
                                </select>
                                <div style="display:none">
                                    <ul class="type-list row-wrap"
                                        data-bind="foreach: items">
                                        <li class=""
                                            data-bind="click: $parent.selectItem
                                                   , css: {
                                                       'active': selected()
                                                       , 'txt-left': $index() === 0
                                                       , 'txt-right': $index() === $parent.items.length - 1
                                                       , 'txt-center': $index() !== 0 && $index() !== $parent.items.length - 1 },
                                                        attr: {'id': 'clickOn_' + value}">
                                            <span class="arrow-wrapper">
                                                <span class="arrow"></span>
                                                <span data-bind="text: text"></span>
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 mt-3" style="padding: 0 2.5%">
                            <span class="align-items-center">
                                <button class="btn btn-primary btn-md d-flex align-items-center" type="submit" data-bind="css: { 'in-progress': pending }">
                                    <i class="fas fa-search mr-1"></i>
                                    <span>@StaticContent.Btn_Search</span>
                                </button>
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="space-ptb">
    <div class="container">
        <div class="row justify-content-center product-services">
            <div class="col-lg-10 text-center px-md-5 px-4">
                <h5 class="mb-3">You will find resources and services such as in-home care, home health care, estate planning, financial planning, senior locator and senior moving services, realtors, medical facilities, pharmacies, local community services and more. </h5>
                <h5 class="mb-3">Browse or search our products and services to find the best solution to fit all your senior or active adult needs.</h5>
            </div>
        </div>
    </div>
</section>